<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>JOOLAB | Stock Research Lab</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@latest/dist/web/variable/pretendardvariable.css">

  <!-- Home-only (VIP 9-grid) styles: self-contained to avoid breaking other pages -->
  <style>
    :root{
      --bg0:#05060a;
      --bg1:#0a1020;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.035);
      --line: rgba(255,255,255,.12);
      --text:#F2F6FF;
      --muted:#B4C1D6;
      --soft:#93A4BE;
      --a1:#6EE7FF;
      --a2:#A78BFA;
      --a3:#34D399;
      --radius:18px;
      --radius2:22px;
      --shadow: 0 20px 50px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Pretendard, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple SD Gothic Neo","Noto Sans KR","Malgun Gothic", sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 720px at 15% -10%, rgba(110,231,255,.18), transparent 55%),
        radial-gradient(1000px 640px at 85% 0%, rgba(167,139,250,.18), transparent 50%),
        radial-gradient(900px 600px at 50% 120%, rgba(52,211,153,.10), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }
    a{color:inherit;text-decoration:none}

    .vip-top{
      position:sticky; top:0; z-index:20;
      background: rgba(0,0,0,.22);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .vip-top-inner{
      max-width:1100px; margin:0 auto;
      padding:14px 18px;
      display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
    }
    .vip-brand{display:flex; align-items:center; gap:10px}
    .vip-logo{
      width:38px; height:38px; border-radius:14px;
      background: linear-gradient(135deg, rgba(110,231,255,.25), rgba(167,139,250,.25));
      border:1px solid rgba(255,255,255,.14);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      object-fit:cover;
    }
    .vip-brand-title{font-weight:900; letter-spacing:-.4px; line-height:1; font-size:18px}
    .vip-brand-sub{font-size:12px; color:var(--muted); margin-top:4px}

    .vip-top-actions{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
    .vip-pill{
      display:inline-flex; align-items:center; justify-content:center;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      font-weight:800; font-size:13px;
      transition: transform .10s ease, border-color .15s ease, background .15s ease;
    }
    .vip-pill:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.22); background: rgba(255,255,255,.06)}
    .vip-pill-primary{
      border-color:rgba(110,231,255,.42);
      background: linear-gradient(180deg, rgba(110,231,255,.18), rgba(255,255,255,.03));
    }
    .vip-user-badge{
      display:inline-flex; align-items:center;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.03);
      color: var(--soft);
      font-size:12px;
      max-width:min(340px, 70vw);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .vip-home{
      max-width:1100px; margin:0 auto;
      padding:22px 18px 34px;
    }
    .vip-grid-wrap{
      display:flex; align-items:center; justify-content:center;
      padding:22px 0 6px;
    }
    .vip-grid{
      width:min(560px, 94vw);
      aspect-ratio:1/1;
      display:grid;
      grid-template-columns:repeat(3, 1fr);
      gap:12px;
      padding:16px;
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .vip-tile{
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:14px;
      min-height:0;
      transition: transform .10s ease, border-color .15s ease, background .15s ease;
    }
    .vip-tile:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.22); background: rgba(255,255,255,.06)}

    .vip-tile-ico{
      width:46px; height:46px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(135deg, rgba(110,231,255,.18), rgba(167,139,250,.16));
      display:flex; align-items:center; justify-content:center;
    }
    .vip-svg{width:24px; height:24px; fill: rgba(242,246,255,.92)}
    .vip-tile-label{font-weight:900; letter-spacing:-.2px; font-size:14px}

    @media (max-width:420px){
      .vip-grid{gap:10px; padding:14px}
      .vip-tile-ico{width:42px; height:42px}
      .vip-tile-label{font-size:13px}
      .vip-pill{padding:9px 10px}
    }
  </style>
</head>
<body class="page-home">

<header class="vip-top">
  <div class="vip-top-inner">
    <a class="vip-brand" href="/" aria-label="JOOLAB 홈">
      <img src="/assets/joolab_logo.png" alt="JOOLAB" class="vip-logo"/>
      <div class="vip-brand-text">
        <div class="vip-brand-title">JOOLAB</div>
        <div class="vip-brand-sub">STOCK RESEARCH LAB</div>
      </div>
    </a>

    <nav class="vip-top-actions" aria-label="홈 상단 버튼">
      <a class="vip-pill" href="/notice/">공지</a>
      <a class="vip-pill" href="/subscribe/">구독</a>
      <a class="vip-pill" href="/signup/" data-auth="signup">회원가입</a>
      <a class="vip-pill vip-pill-primary" href="/login/" data-auth="login">로그인</a>
      <span id="vip-user-badge" class="vip-user-badge" style="display:none"></span>
    </nav>
  </div>
</header>

<main class="vip-home">
  <div class="vip-grid-wrap">
    <section class="vip-grid" aria-label="홈 버튼">

      <a class="vip-tile" href="/intro/" data-tile="intro">
        <div class="vip-tile-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="vip-svg"><path d="M12 2c4.97 0 9 4.03 9 9 0 4.97-4.03 9-9 9S3 15.97 3 11c0-4.97 4.03-9 9-9zm0 5.2a1 1 0 0 0-1 1v.1a1 1 0 0 0 2 0v-.1a1 1 0 0 0-1-1zm-1.1 3.4h2.2c.5 0 .9.4.9.9v5.1c0 .5-.4.9-.9.9h-2.2c-.5 0-.9-.4-.9-.9v-5.1c0-.5.4-.9.9-.9z"/></svg>
        </div>
        <div class="vip-tile-label">소개</div>
      </a>

      <a class="vip-tile" href="/news/" data-tile="news">
        <div class="vip-tile-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="vip-svg"><path d="M4 6.5A2.5 2.5 0 0 1 6.5 4H20v15.5A2.5 2.5 0 0 1 17.5 22h-11A2.5 2.5 0 0 1 4 19.5v-13zm5.2 2.2h8.6a1 1 0 0 1 0 2H9.2a1 1 0 0 1 0-2zm0 4h8.6a1 1 0 0 1 0 2H9.2a1 1 0 0 1 0-2zm0 4h6.2a1 1 0 0 1 0 2H9.2a1 1 0 0 1 0-2z"/></svg>
        </div>
        <div class="vip-tile-label">뉴스</div>
      </a>

      <a class="vip-tile" href="/data/" data-tile="bigdata">
        <div class="vip-tile-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="vip-svg"><path d="M4 18.5a1.5 1.5 0 0 0 3 0V9.2a1.5 1.5 0 0 0-3 0v9.3zm6 0a1.5 1.5 0 0 0 3 0V5.7a1.5 1.5 0 0 0-3 0v12.8zm6 0a1.5 1.5 0 0 0 3 0v-6.5a1.5 1.5 0 0 0-3 0v6.5z"/></svg>
        </div>
        <div class="vip-tile-label">빅데이터</div>
      </a>

      <a class="vip-tile" href="/library/" data-tile="library">
        <div class="vip-tile-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="vip-svg"><path d="M4.5 5.5A2.5 2.5 0 0 1 7 3h4.3c.6 0 1.2.2 1.6.7l1.1 1.2c.2.2.5.3.8.3H20a2 2 0 0 1 2 2v9.8A3 3 0 0 1 19 20H7.5A3 3 0 0 1 4.5 17V5.5zm3.2 5.2h8.2a1 1 0 0 1 0 2H7.7a1 1 0 0 1 0-2zm0 4h6.2a1 1 0 0 1 0 2H7.7a1 1 0 0 1 0-2z"/></svg>
        </div>
        <div class="vip-tile-label">자료실</div>
      </a>

      <a class="vip-tile" href="/subscribe/" data-tile="subscribe">
        <div class="vip-tile-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="vip-svg"><path d="M12 2l2.7 6.1 6.6.6-5 4.3 1.5 6.4L12 16.9 6.2 19.4l1.5-6.4-5-4.3 6.6-.6L12 2z"/></svg>
        </div>
        <div class="vip-tile-label">구독</div>
      </a>

      <a class="vip-tile" href="/performance/" data-tile="perf">
        <div class="vip-tile-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="vip-svg"><path d="M6 3h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm2.2 5.2h7.6a1 1 0 1 1 0 2H8.2a1 1 0 1 1 0-2zm0 4h7.6a1 1 0 1 1 0 2H8.2a1 1 0 1 1 0-2zm0 4h5.2a1 1 0 1 1 0 2H8.2a1 1 0 1 1 0-2z"/></svg>
        </div>
        <div class="vip-tile-label">성과표</div>
      </a>

      <a class="vip-tile" href="/help/" data-tile="help">
        <div class="vip-tile-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="vip-svg"><path d="M12 3c5 0 9 3.4 9 7.6 0 2.4-1.3 4.5-3.4 5.9-.1 1.1.3 2.3 1 3.2.2.2.1.5-.1.6-1.7.7-3.8.3-5.3-.6-.4.1-.8.1-1.2.1-5 0-9-3.4-9-7.6S7 3 12 3zm-.1 4.2c-1.6 0-2.8 1-2.8 2.4a1 1 0 0 0 2 0c0-.3.3-.4.8-.4.5 0 .8.2.8.5 0 .2-.1.3-.5.6-.8.6-1.2 1.1-1.2 2.1v.3a1 1 0 0 0 2 0v-.2c0-.3.1-.4.6-.8.9-.6 1.1-1.4 1.1-2 0-1.4-1.3-2.5-2.8-2.5zm0 7.8a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2z"/></svg>
        </div>
        <div class="vip-tile-label">도움말</div>
      </a>

      <a class="vip-tile" href="https://www.youtube.com/channel/UC85ROrNcbOFDOeC5b0RaQMQ" target="_blank" rel="noopener" data-tile="youtube">
        <div class="vip-tile-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="vip-svg"><path d="M21.6 7.1c.3 1.1.3 3.4.3 3.4s0 2.3-.3 3.4c-.2.9-1 1.6-1.9 1.8-1.7.3-7.7.3-7.7.3s-6 0-7.7-.3c-.9-.2-1.6-.9-1.9-1.8C2.1 12.8 2 10.5 2 10.5s0-2.3.3-3.4c.2-.9 1-1.6 1.9-1.8C5.9 5 12 5 12 5s6 0 7.7.3c.9.2 1.6.9 1.9 1.8zM10.2 13.6l5.2-3.1-5.2-3.1v6.2z"/></svg>
        </div>
        <div class="vip-tile-label">유튜브</div>
      </a>

      <a class="vip-tile" href="/game/" data-tile="game">
        <div class="vip-tile-ico" aria-hidden="true">
          <svg viewBox="0 0 24 24" class="vip-svg"><path d="M7.5 8h9A3.5 3.5 0 0 1 20 11.5v3A3.5 3.5 0 0 1 16.5 18h-9A3.5 3.5 0 0 1 4 14.5v-3A3.5 3.5 0 0 1 7.5 8zm1.2 2.5a1 1 0 0 0-1 1v.6H7a1 1 0 1 0 0 2h.7v.6a1 1 0 1 0 2 0v-.6h.6a1 1 0 1 0 0-2h-.6v-.6a1 1 0 0 0-1-1zm7.8.6a1.2 1.2 0 1 0 0 2.4 1.2 1.2 0 0 0 0-2.4zm-2 2.6a1.2 1.2 0 1 0 0 2.4 1.2 1.2 0 0 0 0-2.4z"/></svg>
        </div>
        <div class="vip-tile-label">게임</div>
      </a>

    </section>
  </div>
</main>

<script>
  // Home-only auth badge: show "회원 + 이메일" when logged in
  (async function(){
    try{
      const nav = document.querySelector('.vip-top-actions');
      if(!nav) return;
      const aLogin = nav.querySelector('a[data-auth="login"]');
      const aSignup = nav.querySelector('a[data-auth="signup"]');
      const badge = document.getElementById('vip-user-badge');

      const r = await fetch('/api/auth/me', { cache:'no-store', credentials:'include' });
      if(!r.ok) return;
      const me = await r.json();
      if(!(me && me.ok && me.user)) return;

      const email = String(me.user.email || me.user.id || '').trim();

      if(aLogin){
        aLogin.textContent = '회원';
        aLogin.setAttribute('href','/account/');
        aLogin.classList.add('vip-pill-primary');
      }
      if(aSignup) aSignup.style.display = 'none';

      if(badge){
        badge.style.display = '';
        badge.textContent = email ? email : '로그인됨';
      }
    }catch(e){
      // no-op
    }
  })();
</script>

</body>
</html>
